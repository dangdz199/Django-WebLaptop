{% include 'products/header.html' %}
<!-- Main content -->
<main class="container my-5">
  <h2 class="text-center mb-4">Danh sách laptop</h2>
  
  <!-- Form tìm kiếm, lọc và sắp xếp -->
  <form method="get" class="mb-4">
      <div class="form-row">
          <div class="col">
              <input type="text" class="form-control" name="search_query" value="{{ search_query }}" placeholder="Tìm kiếm theo tên">
          </div>
          <div class="col">
              <input type="number" class="form-control" name="min_price" value="{{ min_price }}" placeholder="Giá tối thiểu">
          </div>
          <div class="col">
              <input type="number" class="form-control" name="max_price" value="{{ max_price }}" placeholder="Giá tối đa">
          </div>
          <div class="col">
              <select class="form-control" name="sort_order">
                  <option value="">Sắp xếp giá</option>
                  <option value="asc" {% if sort_order == 'asc' %}selected{% endif %}>Tăng dần</option>
                  <option value="desc" {% if sort_order == 'desc' %}selected{% endif %}>Giảm dần</option>
              </select>
          </div>
          <div class="col">
              <button type="submit" class="btn btn-primary">Tìm kiếm</button>
          </div>
      </div>
  </form>

  <div class="row">
    {% for laptop in laptops %}
    <div class="col-md-4 mb-4">
      <!-- Card for each laptop -->
      <div class="card">
        <img src="{{ laptop.image.url }}" class="card-img-top" alt="{{ laptop.name }}" />
        <div class="card-body">
          <h5 class="card-title">{{ laptop.name }}</h5>
          <p class="card-text">{{ laptop.description }}</p>
          <p class="card-text"><strong>Giá: {{ laptop.price }} VND</strong></p>
          <a href="{% url 'laptop_detail' laptop.pk %}" class="btn btn-primary">Chi tiết</a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center">Không tìm thấy laptop nào phù hợp với từ khóa tìm kiếm hoặc bộ lọc của bạn.</p>
    {% endfor %}
  </div>
</main>
{% include 'products/footer.html' %}
